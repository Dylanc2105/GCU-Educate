@{
    ViewBag.Title = "Student Feedback Dashboard";
}

<style>
    body {
        background-color: #f5f5f5;
    }

    .dashboard-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 30px 20px;
    }

    .dashboard-card {
        background-color: white;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
    }

    .dashboard-header {
        background-color: #7F3D98;
        color: white;
        padding: 15px 20px;
        margin: 0;
        font-size: 18px;
        font-weight: 600;
        border-radius: 8px 8px 0 0;
        display: flex;
        align-items: center;
    }

        .dashboard-header i {
            margin-right: 10px;
        }

    .dashboard-content {
        padding: 0;
    }

    .dashboard-item {
        background-color: #f5f5f5;
        border: none;
        padding: 20px;
        margin: 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        text-decoration: none;
        color: inherit;
        transition: all 0.2s ease;
    }

        .dashboard-item:hover {
            background-color: #eeeeee;
            text-decoration: none;
            color: inherit;
        }

        .dashboard-item:not(:last-child) {
            border-bottom: 1px solid #e0e0e0;
        }

    .dashboard-item-content h6 {
        margin: 0 0 5px 0;
        font-weight: 600;
        color: #333;
    }

    .dashboard-item-content h5 {
        margin: 0 0 5px 0;
        font-weight: 600;
        color: #333;
    }

    .dashboard-item-content small {
        color: #666;
        font-size: 14px;
    }

    .dashboard-badge {
        background-color: #8b5cf6;
        color: white;
        border-radius: 50%;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        font-size: 14px;
    }

    .status-badge {
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
    }

    .badge-warning {
        background-color: #ffc107;
        color: #212529;
    }

    .badge-success {
        background-color: #28a745;
        color: white;
    }

    .badge-new {
        background-color: #8b5cf6;
        color: white;
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
    }
</style>

<div class="dashboard-container">
    <!-- Header -->
    <div class="mb-5">
        <h1 class="h2 text-dark mb-2">Feedback Dashboard</h1>
        <p class="text-muted">Submit and manage your feedback</p>
    </div>

    <!-- Main Section - Side by Side -->
    <div class="row">
        <!-- Simple Feedback -->
        <div class="col-lg-6">
            <div class="dashboard-card">
                <h4 class="dashboard-header">
                    <i class="fas fa-comment"></i>Simple Feedback
                </h4>
                <div class="dashboard-content">
                    <a href="@Url.Action("CreateSimpleFeedback", "SimpleFeedback")" class="dashboard-item">
                        <div class="dashboard-item-content">
                            <h6>Create New Simple Feedback</h6>
                            <small>Submit quick feedback about a unit</small>
                        </div>
                    </a>
                    <a href="@Url.Action("ViewSimpleFeedbacks", "SimpleFeedback")" class="dashboard-item">
                        <div class="dashboard-item-content">
                            <h6>View My Simple Feedback</h6>
                            <small>See your submitted feedback</small>
                        </div>
                    </a>
                </div>
            </div>
        </div>

        @if (User.IsInRole("Student"))
        {
            <!-- Detailed Feedback -->
            <div class="col-lg-6">
                <div class="dashboard-card">
                    <h4 class="dashboard-header">
                        <i class="fas fa-file-alt"></i>Detailed Feedback
                    </h4>
                    <div class="dashboard-content">
                        @if (ViewBag.HasDetailedFeedbackRequest == true)
                        {
                            <a href="@Url.Action("CreateDetailedFeedback", "DetailedFeedback", new { requestId = ViewBag.FirstRequestId })" class="dashboard-item">
                                <div class="dashboard-item-content">
                                    <h6>Complete Detailed Feedback</h6>
                                    <small>New feedback form to complete</small>
                                </div>
                                <span class="badge-new">New</span>
                            </a>
                        }
                        <a href="@Url.Action("ViewSentDetailedFeedbacks", "DetailedFeedback")" class="dashboard-item">
                            <div class="dashboard-item-content">
                                <h6>View My Detailed Feedback</h6>
                                <small>See your submitted feedback</small>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        }
    </div>

    <!-- Class Representative Section -->
    @if (User.IsInRole("Student"))
    {
        if (ViewBag.IsClassRep == true)
        {
            <div class="dashboard-card">
                <h4 class="dashboard-header">
                    <i class="fas fa-users"></i>Class Representative
                </h4>
                <div class="dashboard-content">
                    <a href="@Url.Action("ClassRepDashboard", "DetailedFeedback")" class="dashboard-item">
                        <div class="dashboard-item-content">
                            <h5>Class Rep Dashboard</h5>
                            <small>
                                @if (ViewBag.HasPendingClassFeedback == true)
                                {
                                    <span>Review aggregated class feedback and lead class discussion</span>
                                }
                                else if (ViewBag.HasSubmittedClassFeedback == true)
                                {
                                    <span>View class feedback collection status and submitted results</span>
                                }
                                else
                                {
                                    <span>Monitor class feedback collection progress</span>
                                }
                            </small>
                        </div>
                        <div>
                            @if (ViewBag.HasPendingClassFeedback == true)
                            {
                                <span class="status-badge badge-warning">Action Required</span>
                            }
                            else if (ViewBag.HasSubmittedClassFeedback == true && ViewBag.HasPendingClassFeedback == false)
                            {
                                <span class="status-badge badge-success">Completed</span>
                            }
                        </div>
                    </a>
                </div>
            </div>
        }
    }
</div>