@model IEnumerable<GuidanceTracker.Models.Appointment>
@{
    ViewBag.Title = "Upcoming Appointments";
}

<h2>Upcoming Appointments</h2>

@if (Model != null && Model.Any())
{
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>@Html.DisplayNameFor(model => model.AppointmentDate)</th>
                    <th>Time</th>
                    <th>@Html.DisplayNameFor(model => model.Room)</th>
                    <th>@Html.DisplayNameFor(model => model.AppointmentStatus)</th>
                    <th>@Html.DisplayNameFor(model => model.AppointmentNotes)</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@Html.DisplayFor(modelItem => item.AppointmentDate)</td>
                        <td>@item.StartTime.ToString() - @item.StartTime.Add(TimeSpan.FromMinutes(10)).ToString()</td>
                        <td>@Html.DisplayFor(modelItem => item.Room)</td>
                        <td>
                            <span class="label @(item.AppointmentStatus == GuidanceTracker.Models.AppointmentStatus.Scheduled ? "label-success" :
                                                item.AppointmentStatus == GuidanceTracker.Models.AppointmentStatus.Requested ? "label-danger" : "label-warning")">
                                @Html.DisplayFor(modelItem => item.AppointmentStatus)
                            </span>
                        </td>
                        <td>@Html.DisplayFor(modelItem => item.AppointmentNotes)</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
else
{
    <div class="alert alert-info">
        <p>No upcoming appointments found.</p>
    </div>
}

<div class="form-group">
    @Html.ActionLink("Back to Dashboard", "StudentDash", "Student", null, new { @class = "btn btn-back" })
    <p></p>
    @Html.ActionLink("Request New Appointment", "RequestAppointment", "Student", null, new { @class = "btn btn-back" })
</div>
<style>
    .btn-back {
        background: #7F3D98;
    }

    .btn {
        color: white;
        border: none;
        border-radius: 20px;
        padding: 8px 16px;
        cursor: pointer;
        font-size: 14px;
        transition: background-color 0.3s ease; /* Optional: Add a smooth transition */
    }

    .btn-back:hover {
        background-color: #5c2b70; /* A darker shade of your original purple */
        color: white;
    }
</style>